/*!
Plugin: Wolf Slider
Version 1.0.0
Author: Constantin Saguin
Twitter: @wolf_themes
Author URL: http://csag.co

An enhanced version of flexslider that support video background and caption transition effects
*/
!function(a,b,c,d){c.wpbSlider=function(d,e){/* jshint unused:false */
var f,g=(c("html").hasClass("touch"),navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)?!1:!0),h=(navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)?!0:!1,{
//animation : ( isTouch ) ? 'slide' : 'fade',
animation:"fade",slideshow:!1,pauseOnHover:!0,slideshowSpeed:4e3,controlNav:!0,directionNav:!0,sliderHeight:"100",sliderHeightUnit:"%"}),i=this,j=d.selector,k=c(j);i.settings={},i.init=function(){i.settings=c.extend({},h,e),k.flexslider({animation:i.settings.animation,slideshow:i.settings.slideshow,pauseOnHover:i.settings.pauseOnHover,slideshowSpeed:i.settings.slideshowSpeed,controlNav:i.settings.controlNav,directionNav:i.settings.directionNav,start:function(){f.init(i.settings.sliderHeight,i.settings.sliderHeightUnit),f.playCurrentVideo()},before:function(){f.pauseAllVideos()},after:function(){f.playCurrentVideo()}})},f={/**
			 * Initiate slider
			 */
init:function(b,d){var e=this;this.setSliderHeight(b,d),this.loadAllVideos(),this.playCurrentVideo(),this.playButton(),this.muteButton(),/**
				 * Resize event
				 */
c(a).resize(function(){e.setSliderHeight(b,d)}).resize()},/**
			 * Set element height to full screen
			 */
setSliderHeight:function(b,d){var e,f=this,g=f.getToolBarOffset(),h=2;e=parseInt(b,10),"%"===d&&(e=Math.floor(c(a).height()*b/100)),c(".wpm-sticky-playlist-container").length&&(g+=c(".wpm-sticky-playlist-container").height()),e=e-g+h,k.find(".slide").each(function(){c(this).css({height:e})})},getToolBarOffset:function(){var b=0;return c("body").is(".admin-bar")&&(b=782<c(a).width()?32:46),b},/**
			 * Preload all slide videos if any
			 *
			 * @todo
			 */
loadAllVideos:function(){k.find(".wpb-slide-video").each(function(){c(this).parents(".wpb-slide").addClass("pause")})},/**
			 * Play video
			 */
playCurrentVideo:function(){if(k.find(".flex-active-slide .wpb-slide-video").length){var a=c(".flex-active-slide"),b=a.find(".wpb-slide-video");this.playToggleVideo(b)}},/**
			 * Play/Pause a video
			 */
playToggleVideo:function(a){var c=a.parent().parent(),d=a.data("video-play"),e=a.data("video-id"),f=b.getElementById("wpb-slide-video-"+e);
// play
!1===d&&g?(a.get(0).play(),a.data("video-play",!0),c.toggleClass("pause")):(a.get(0).pause(),a.data("video-play",!1),c.toggleClass("pause")),
// Hide image fallback
g&&(f.readyState>=f.HAVE_FUTURE_DATA?
// console.log('video can play!');
c.find(".wpb-slide-video-container").css({opacity:1}):f.addEventListener("canplay",function(){
// console.log('video can play!');
c.find(".wpb-slide-video-container").css({opacity:1})},!1))},/**
			 * Mute/Unmute a video
			 */
muteToggleVideo:function(a){var b=a.parent().parent(),c=a.data("video-mute");
// already muted
!0===c?(a.prop("muted",!1),a.data("video-mute",!1),b.addClass("unmute")):(a.prop("muted",!0),a.data("video-mute",!0),b.removeClass("unmute"))},/**
			 * Pause all videos
			 */
pauseAllVideos:function(){var a;k.find(".wpb-slide-video").length&&k.find(".wpb-slide-video").each(function(){a=c(this),a.get(0).pause(),a.data("video-play",!1),a.parent().parent().addClass("pause")})},/**
			 * Mute button
			 */
muteButton:function(){var a=this;c(".wpb-slide-video-mute-button").each(function(){c(this).on("click",function(){var b=c(this).data("video-mute-id"),d=c("#wpb-slide-video-"+b);a.muteToggleVideo(d)})})},/**
			 * Play button
			 */
playButton:function(){var a=this;c(".wpb-slide-video-play-button").each(function(){c(this).on("click",function(){var b=c(this).data("video-play-id"),d=c("#wpb-slide-video-"+b);a.playToggleVideo(d)})})}},i.init()},c.fn.wpbSlider=function(a){if(!c.data(this,"_wpbSlider")){var b=new c.wpbSlider(this,a);this.data("_wpbSlider",b)}return this.data("_wpbSlider")}}(window,document,jQuery);