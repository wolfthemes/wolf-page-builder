/*!
 * Front end plugin methods
 *
 * %NAME% %VERSION%
 */
/* jshint -W062 */
/* global DocumentTouch,
WPBParams,
WPBYTVideoBg,
WPBSliders,
WPBAccordion,
WPBTabs,
WPBToggles,
WPBProcess,
WPBButtons,
WPBIcons,
WPBCounter,
WPBMailchimp,
WPBTyped,
WPBCountdown,
WPBCarousels,
WolfFrameworkJSParams,
WOW
*/
var WPB=function(a){"use strict";return{doParallax:!0,doAnimation:!0,body:a("body"),isMobile:navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)?!0:!1,isApple:navigator.userAgent.match(/(Safari)|(iPad)|(iPhone)|(iPod)/i)&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Android")?!0:!1,supportSVG:!!document.createElementNS&&!!document.createElementNS("https://www.w3.org/2000/svg","svg").createSVGRect,isTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,/**
		 * Init functions
		 */
init:function(){var b=this;a(window).trigger("resize"),// trigger resize event to force all window size related calculation
a(window).trigger("scroll"),// trigger scroll event to force all window scroll related calculation
this.doParallax=!this.isMobile||this.isMobile&&WPBParams.doParallaxOnMobile,this.doAnimation=!this.isMobile||this.isMobile&&WPBParams.doAnimationOnMobile,this.setClasses(),this.videoBackground(),this.playButton(),this.muteButton(),this.fullHeightSection(),this.parallax(),this.fitText(),this.bigText(),this.fluidVideos(),this.wowAnimate(),this.youtubeWmode(),this.closeAlertMessage(),this.lightbox(),this.videoShortcode(),this.scrollDownArrow(),this.smoothScroll(),this.relGalleryAttr(),this.maps(),this.lazyLoad(),/**
			 * Resize event
			 */
a(window).resize(function(){b.fullHeightSection(),b.videoBackground(),b.videoShortcode(),b.scrollDownArrowDisplay()}).resize()},/**
		 * Check if IE
		 */
isIE:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE "),c=a.indexOf("Trident/");return b>0?!0:c>0?!0:!1},setClasses:function(){this.supportSVG&&a("html").addClass("wpb-svg"),this.isTouch?a("html").addClass("wpb-touch"):a("html").addClass("wpb-no-touch"),this.isMobile&&this.body.addClass("wpb-is-mobile"),this.doParallax&&this.body.addClass("wpb-do-parallax"),this.isApple&&this.body.addClass("wpb-is-apple")},/**
		 * Get admin toolbar offset
		 */
getToolBarOffset:function(){var b=0;return a("body").is(".admin-bar")&&(b=782<a(window).width()?32:46),parseInt(b,10)},/**
		 * Set element height to full screen
		 */
fullHeightSection:function(){var b=this,c=b.getToolBarOffset(),d=2;a(".wpm-sticky-playlist-container").length&&(c+=a(".wpm-sticky-playlist-container").height()),a(".wpb-section-full-height").each(function(){a(this).css({height:a(window).height()-c+d})})},/**
		 * Fluid Video wrapper
		 */
fluidVideos:function(b){b=b||a(".wpb-section-inner");var c=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="youtu.be"]','iframe[src*="kickstarter.com"][src*="video.html"]','iframe[src*="screenr.com"]','iframe[src*="blip.tv"]','iframe[src*="dailymotion.com"]','iframe[src*="viddler.com"]','iframe[src*="qik.com"]','iframe[src*="revision3.com"]','iframe[src*="hulu.com"]','iframe[src*="funnyordie.com"]','iframe[src*="flickr.com"]','embed[src*="v.wordpress.com"]'];b.find(c.join(",")).wrap('<span class="wpb-fluid-video" />'),a(".wpb-fluid-video").parent().addClass("wpb-fluid-video-container")},/**
		 * Video Background
		 */
videoBackground:function(){var b=this;a(".wpb-video-bg-container").each(function(){var
//video = document.getElementById( $video.attr( 'id' ) ),
c,d,e,f,g,h=a(this),i=a(this).width(),j=a(this).height(),k=640,l=360,
//ratio = ratioWidth/ratioHeight,
m=a(this).find(".wpb-video-bg");if(h.hasClass("wpb-youtube-video-bg-container"))m=h.find("iframe"),k=560,l=315;else if(h.hasClass("wpb-vimeo-video-bg-container"))m=h.find("iframe"),k=560,l=315;else{if(b.isMobile)
// console.log( this.isTouch );
return h.find(".wpb-video-bg-fallback").css({"z-index":1}),void m.remove();
// Safari fix
m.prop("muted",!0),setTimeout(function(){m.get(0).play()},500)}i/j>=1.8?(d=i,c=Math.ceil(i/k*l)+2,f=-(Math.ceil(c-j)/2),e=-(Math.ceil(d-i)/2),g={width:d,height:c,marginTop:f,marginLeft:e},m.css(g)):(c=j,d=Math.ceil(j/l*k),e=-(Math.ceil(d-i)/2),g={width:d,height:c,marginLeft:e,marginTop:0},m.css(g))})},/**
		 * Video play button
		 */
playButton:function(){a(".wpb-video-bg-play-button").on("click",function(){var b=a(this),c=b.parents(".wpb-section"),d=c.find(".wpb-video-bg"),e=d.attr("id"),f=document.getElementById(e),g=d;g.hasClass("paused")?(f.play(),g.removeClass("paused"),b.removeClass("pause")):(f.pause(),g.addClass("paused"),b.addClass("pause"))})},/**
		 * Video mute button
		 */
muteButton:function(){a(".wpb-video-bg-mute-button").on("click",function(){var b=a(this),c=b.parents(".wpb-section"),d=c.find(".wpb-video-bg"),e=d.attr("id"),f=document.getElementById(e),g=d;g.hasClass("unmuted")?(f.muted=!0,g.removeClass("unmuted"),b.removeClass("unmute")):(f.muted=!1,g.addClass("unmuted"),b.addClass("unmute"))})},/**
		 * Use Wow plugin to reveal animation on page scroll
		 */
wowAnimate:function(){if(this.doAnimation){var a=new WOW({offset:50});// init wow for CSS animation
a.init()}},/**
		 * Fix wmode  with youtube videos
		 */
youtubeWmode:function(){var b,c,d=['iframe[src*="youtube.com"]','iframe[src*="youtu.be"]','iframe[src*="youtube-nocookie.com"]'];b=d.join(","),c=a(b),c.length&&c.each(function(){var b=a(this).attr("src");b&&(-1!==b.indexOf("?")?b.match("/wmode=transparent/")||a(this).attr("src",b+"&wmode=transparent"):a(this).attr("src",b+"?wmode=transparent"))})},/**
		 * Fittext
		 */
fitText:function(){a(".wpb-fittext").each(function(){var b=a(this).data("max-font-size")||60;a(this).fitText(1.2,{minFontSize:"14px",maxFontSize:b+"px"})})},/**
		 * bigText
		 */
bigText:function(){a(".wpb-bigtext").each(function(){a(this).bigtext()})},/**
		 * Close alert message
		 */
closeAlertMessage:function(){a(".wpb-notification-close").on("click",function(){a(this).parents(".wpb-notification").slideUp()})},/**
		 *  Parallax Background
		 */
parallax:function(){this.doParallax&&a(".wpb-parallax-window").each(function(){var b=a(this),
//naturalWidth = $this.data( 'natural-width' ),
//naturalHeight = $this.data( 'natural-height' ),
c=b.data("background-url");b.parallax({imageSrc:c,
//naturalWidth : naturalWidth,
//naturalHeight : naturalHeight,
mainContainer:"#page"})})},/**
		 *  Lightbox
		 */
lightbox:function(){var b=this;
// add rel attribute for galleries
a(".wpb-gallery .wpb-lightbox").each(function(){a(this).attr("rel","gallery")}),"swipebox"===WPBParams.lightbox&&a.isFunction(a.swipebox)?(a(".wpb-lightbox, .wpb-gallery-lightbox").swipebox(),a(".wpb-video-lightbox").swipebox({hideBarsDelay:0,afterOpen:function(){b.setVimeoOptions()}})):"fancybox"===WPBParams.lightbox&&(a(".wpb-lightbox, .wpb-gallery-lightbox").fancybox(),a(".wpb-video-lightbox").fancybox({padding:0,nextEffect:"none",prevEffect:"none",openEffect:"none",closeEffect:"none",helpers:{media:{},title:{type:"outside"},overlay:{opacity:.9}}}))},/**
		 * Remove title from vimeo videos
		 */
setVimeoOptions:function(){var b,c,d=['iframe[src*="player.vimeo.com"]'];b=d.join(","),c=a(b),c.length&&c.each(function(){var b=a(this).attr("src");b&&(-1!==b.indexOf("?")?a(this).attr("src",b+"&title=0&byline=0&portrait=0"):a(this).attr("src",b+"?title=0&byline=0&portrait=0"))})},/**
		 * Make WP video shortcode responsive
		 */
videoShortcode:function(){a(".wpb-section .wp-video").each(function(){var b=a(this),c=b.parent().width(),d=Math.floor(c/16*9);b.css({width:c,height:d})})},/**
		 * Trick to customize the embed tweet
		 */
loadTwitter:function(){var b=a(".twitter-tweet-rendered"),c=a(".post.is-tweet");setTimeout(function(){b.length&&b.each(function(){a(this).removeAttr("style").attr("height","auto").animate({opacity:1})}),c.length&&c.each(function(){a(this).animate({opacity:1})})},500)},/**
		 * Instagrams fade in
		 */
loadInstagram:function(){var b=a(".post-item.is-instagram");b.length&&b.each(function(){a(this).animate({opacity:1})})},/**
		 * Hide the scroll down arrow if height is too small
		 */
scrollDownArrowDisplay:function(){var b,c,d,e=0,f=250;a(".wpb-arrow-down").each(function(){b=a(this),c=b.parent(),d=c.find(".wpb-section-inner"),e=0,d.find(".wpb-row").each(function(){e+=a(this).height()}),
//console.log( 'innder ' + sectionInnerHeight );
//console.log( 'win ' + $( window ).height() );
a(window).height()<=e+f?b.hide():b.show()})},/**
		 * Smooth scroll
		 */
smoothScroll:function(){var b=this;a(".wpb-nav-scroll a, .wpb-scroll, .wpb-scroll a").on("click",function(c){c.preventDefault(),c.stopPropagation();var d,e,f=0,g=b.getToolBarOffset(),h=a(this),i=h.attr("href");i&&-1!==i.indexOf("#")&&(e=i.substring(i.indexOf("#")+1),d=a("#"+e),f=d.hasClass("wpb-section-full-height")?0:b.getMenuOffsetFromTheme(),d.length&&a("html, body").stop().animate({scrollTop:d.offset().top-g-f},1e3,"swing",function(){""!==e&&history.pushState(null,null,"#"+e)}))})},/**
		 * Display an arrow to scroll to the next section
		 */
scrollDownArrow:function(){var b,c,d,e,f,g,h=this,i=a(".wpb-section"),j=0,k=0;i.each(function(l){b=a(this),c=b.find(".wpb-arrow-down"),d=i.eq(l+1),k=h.getToolBarOffset(),c&&0<d.length?(b.addClass("wpb-has-next-section"),c.on("click",function(b){b.preventDefault(),b.stopPropagation(),e=a(this).parent().parent().next(".wpb-section-container"),f=parseInt(e.offset().top,10),j=e.find(".wpb-section").hasClass("wpb-section-full-height")?0:h.getMenuOffsetFromTheme(),e.find(".wpb-section").attr("id")&&(g=e.find(".wpb-section").attr("id")),a("html, body").stop().animate({scrollTop:f-k-j},1200,"swing",function(){""!==g&&"undefined"!=typeof g&&history.pushState(null,null,"#"+g)})})):b.addClass("wpb-no-next-section")})},/**
		 * Get menu offset from Theme if available
		 */
getMenuOffsetFromTheme:function(){var b=0;
// console.log( menuOffset );
// if mobile
return a.isEmptyObject(WolfFrameworkJSParams)||(WolfFrameworkJSParams.menuOffsetMobile&&a("body").hasClass("mobile")?b=WolfFrameworkJSParams.menuOffsetMobile:WolfFrameworkJSParams.menuOffsetBreakpoint&&!a("body").hasClass("desktop")?b=WolfFrameworkJSParams.menuOffsetBreakpoint:WolfFrameworkJSParams.menuOffsetDesktop?b=WolfFrameworkJSParams.menuOffsetDesktop:WolfFrameworkJSParams.menuOffset&&(b=WolfFrameworkJSParams.menuOffset)),parseInt(b,10)},/**
		 * Set gallery rel attribute for HTML validation
		 */
relGalleryAttr:function(){a(".wolf-images-gallery .wpb-image-inner, .wpb-item-price-image-container a").each(function(){a(this).data("wpb-rel")&&a(this).attr("rel",a(this).data("wpb-rel"))})},/**
		 * Google map fix to avoid scroll
		 */
maps:function(){a(".wpb-map-container").click(function(){a(".wpb-map-container iframe").css("pointer-events","auto")}),a(".wpb-map-container").mouseleave(function(){a(".wpb-map-container iframe").css("pointer-events","none")})},/**
		 * Function to fire on page load
		 */
pageLoad:function(){a(window).trigger("resize"),// trigger resize event to force all window size related calculation
a(window).trigger("scroll"),// trigger scroll event to force all window scroll related calculation
this.videoShortcode(),this.loadInstagram(),this.loadTwitter(),a("body").addClass("wpb-loaded")},/**
		 * Lazy load gallery image
		 */
lazyLoad:function(){WPBParams.doLazyLoad&&a("img.lazy-hidden").lazyLoadXT()},/**
		 * AJAX Callback
		 *
		 * Reinitiate all plugins.
		 * This function can be called after an AJAX request to restore all JS functionality
		 */
ajaxCallback:function(){this.init(),this.fullHeightSection(),
// YouTube
"undefined"!=typeof WPBYTVideoBg&&WPBYTVideoBg.playVideo(),
// Vimeo
// if ( 'undefined' !== typeof WPBVimeoVideoBg ) {
// 	WPBVimeoVideoBg.muteVimeoBackgrounds();
// }
// Sliders
"undefined"!=typeof WPBSliders&&WPBSliders.init(),
// Accordion
"undefined"!=typeof WPBAccordion&&WPBAccordion.init(),
// Tabs
"undefined"!=typeof WPBTabs&&WPBTabs.init(),
// Toggles
"undefined"!=typeof WPBToggles&&WPBToggles.init(),
// Process
"undefined"!=typeof WPBProcess&&WPBProcess.init(),
// Buttons and calls to action
"undefined"!=typeof WPBButtons&&WPBButtons.init(),
// Icons
"undefined"!=typeof WPBIcons&&WPBIcons.init(),
// Counter
"undefined"!=typeof WPBCounter&&WPBCounter.init(),
// Mailchimp
"undefined"!=typeof WPBMailchimp&&WPBMailchimp.init(),
// Typed
"undefined"!=typeof WPBTyped&&WPBTyped.init(),
// Count down
"undefined"!=typeof WPBCountdown&&(WPBCountdown.init(),a(".wpb-countdown-container").addClass("wpb-countdown-container-loaded")),
// Carousels
"undefined"!=typeof WPBCarousels&&WPBCarousels.init()}}}(jQuery);!function(a){"use strict";a(document).ready(function(){WPB.init()}),a(window).load(function(){WPB.pageLoad()})}(jQuery);